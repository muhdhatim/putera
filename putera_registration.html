<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Putera</title>
  <link rel="icon" href="images/Logo_Royal_Military_College.png">

  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="plugins/fontawesome-free/css/all.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <!-- Tempusdominus Bootstrap 4 -->
  <link rel="stylesheet" href="plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
  <!-- iCheck -->
  <link rel="stylesheet" href="plugins/icheck-bootstrap/icheck-bootstrap.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="dist/css/adminlte.min.css">
  <!-- Custom style -->
  <link rel="stylesheet" href="dist/css/styles.css">
  <!-- overlayScrollbars -->
  <link rel="stylesheet" href="plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
  <!-- Daterange picker -->
  <link rel="stylesheet" href="plugins/daterangepicker/daterangepicker.css">
  <!-- summernote -->
  <link rel="stylesheet" href="plugins/summernote/summernote-bs4.min.css">
    <!-- BS Stepper -->
    <link rel="stylesheet" href="plugins/bs-stepper/css/bs-stepper.min.css">

</head>
<body class="layout-top-nav" style="height: auto;">



<div class="wrapper">
	<nav class="main-header navbar navbar-expand-md navbar-light navbar-white">
		<div class="container">
			<a href="putera_registration.html" class="navbar-brand"> <img src="images/Logo_Royal_Military_College.png" alt="RMC Logo" class="brand-image img-circle elevation-3" style="opacity: .8"> <span class="brand-text font-weight-light">SPP</span> </a>
			<button class="navbar-toggler order-1" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button>
			<div class="collapse navbar-collapse order-3" id="navbarCollapse">
				<ul class="navbar-nav">
					<li class="nav-item"> <a href="putera_registration.html" class="nav-link">Home</a> </li>
				</ul>
			</div>
			<ul class="order-1 order-md-3 navbar-nav navbar-no-expand ml-auto">
                <li class="nav-item dropdown user-menu">
                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="true"> <img src="images/default-user-128x128.jpg" class="user-image img-circle elevation-2" alt="User Image"> <span class="d-none d-md-inline">PUTERA</span> </a>
                    <ul class="dropdown-menu dropdown-menu-lg dropdown-menu-right" style="left: inherit; right: 0px;">
                        <!-- User image -->
                        <li class="user-header bg-primary"> <img src="images/default-user-128x128.jpg" class="img-circle elevation-2" alt="User Image">
                            <p> Pengguna : Putera <small>[Normal User]</small> </p>
                        </li>
                        <!-- Menu Body -->
                        <!-- Menu Footer-->
                        <li class="user-footer"> <a href="/" class="btn btn-default btn-flat">Profile</a> <a href="/" class="btn btn-default btn-flat float-right">Logout</a> </li>
                    </ul>
                </li>
			</ul>
		</div>
	</nav>
	<div class="content-wrapper" style="min-height: 815px;">
		<div class="content-header">
			<div class="container">
				<div class="row mb-2">
					<div class="col-sm-6">
						<h1 class="m-0"> Putera Registration <small>Form 1.0</small></h1> </div>
					<div class="col-sm-6">
						<ol class="breadcrumb float-sm-right">
							<li class="breadcrumb-item"><a href="#">Home</a></li>
							<li class="breadcrumb-item"><a href="#">Putera Registration</a></li>
						</ol>
					</div>
				</div>
			</div>
		</div>
		<div class="content">
			<div class="container">

                <div class="row">
                    <div class="col-12">
                        <div class="card card-default">
                            <div class="card-header">
                                <h3 class="card-title">Sila isi semua butiran-butiran dengan tepat</h3> </div>
                            <div class="card-body overflow-auto">
                                <div class="bs-stepper" id="stepper1">
                                    <div class="bs-stepper-header d-inline d-md-flex" role="tablist">
                                        <div class="step active" data-target="#form-personal-detail">
                                            <button type="button" class="step-trigger" role="tab" aria-controls="form-personal-detail" id="form-personal-detail-trigger" > <span class="bs-stepper-circle">1</span> <span class="bs-stepper-label">Butiran Peribadi</span> </button>
                                        </div>
                                        <div class="line"></div>
                                        <div class="step" data-target="#form-family-member">
                                            <button type="button" class="step-trigger" role="tab" aria-controls="form-family-member" id="form-family-member-trigger" > <span class="bs-stepper-circle">2</span> <span class="bs-stepper-label">Butiran Keluarga</span> </button>
                                        </div>
                                        <div class="line"></div>
                                        <div class="step" data-target="#form-submit">
                                            <button type="button" class="step-trigger" role="tab" aria-controls="form-submit" id="form-submit-trigger" > <span class="bs-stepper-circle">3</span> <span class="bs-stepper-label">Hantar</span> </button>
                                        </div>
                                    </div>
                                    <div class="bs-stepper-content">
                                        <div id="form-personal-detail" class="content active dstepper-block" role="tabpanel" aria-labelledby="form-personal-detail-trigger">
                                            <div class="row">

                                                <div class="col-12 text-center mb-2">
                                                    <p class="h4">Butiran Peribadi</p>
                                                    <div class="line"></div>
                                                </div>
                                                <!-- Butiran Peribadi  -->
                                                <form class="form-personal row">
                                                    <div class="col-12 col-md-6">
                                                        <div class="form-group">
                                                            <label for="no_ic">No. Kad Pengenalan</label>
                                                            <input type="text" class="form-control" id="no_ic" name="no_ic" placeholder="No Kad Pengenalan"> 
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="dob">Tarikh Lahir</label>
                                                            <input type="date" class="form-control" id="dob" name="dob" placeholder="Tarikh Lahir"> 
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="bc">No. Sijil Kelahiran</label>
                                                            <input type="text" class="form-control" id="bc" name="bc" placeholder="No. Sijil Kelahiran"> 
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="nation">Bangsa</label>
                                                            &nbsp;
                                                            <div class="icheck-primary d-inline">
                                                                <input type="checkbox" id="btn-other-nation" name="btn-other-nation">
                                                                <label for="btn-other-nation"><small>Lain-lain bangsa</small></label>
                                                            </div>
                                                            <input type="text" class="form-control" id="nation" name="nation" placeholder="Bangsa"> 
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-md-6">
                                                        <div class="form-group">
                                                            <label for="fullname">Nama Penuh</label>
                                                            <input type="text" class="form-control" id="fullname" name="fullname" placeholder="Nama Penuh"> 
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="pob">Tempat Lahir</label>
                                                            <input type="text" class="form-control" id="pob" name="pob" placeholder="Tempat Lahir"> 
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="religion">Agama</label>
                                                            <input type="text" class="form-control" id="religion" name="religion" placeholder="Agama"> 
                                                        </div>
                                                        <div class="form-group" style="display: none;">
                                                            <label for="other_nation">Lain-lain Bangsa</label>
                                                            <input type="text" class="form-control" id="other_nation" name="other_nation" placeholder="Lain-lain Bangsa"> 
                                                        </div>
                                                    </div>

                                                    <div class="col-12 text-center mb-2">
                                                        <p class="h4">Butiran Tambahan</p>
                                                        <div class="line"></div>
                                                    </div>
                                                    <!-- Butiran Tambahan  -->

                                                    <div class="col-12 col-md-6">
                                                        <div class="form-group">
                                                            <label for="past_school">Nama Sekolah Asal</label>
                                                            <input type="text" class="form-control" id="past_school" name="past_school" placeholder="Nama Sekolah Asal"> 
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-md-6">
                                                        <div class="form-group">
                                                            <label for="school_type">Jenis Sekolah</label>
                                                            <input type="text" class="form-control" id="school_type" name="school_type" placeholder="Jenis Sekolah"> 
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="col-12 col-md-4">
                                                        <div class="form-group">
                                                            <label for="email">Emel Putera</label>
                                                            <input type="email" class="form-control" id="email" name="email" placeholder="Emel Putera"> 
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-md-4">
                                                        <div class="form-group">
                                                            <label for="total_sibling">Bilangan Adik beradik</label>
                                                            <input type="number" class="form-control" id="total_sibling" name="total_sibling" min="0" max="20" placeholder="Bilangan Adik beradik"> 
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-md-4">
                                                        <div class="form-group">
                                                            <label for="putera_childs">Putera Seorang Anak</label>
                                                            <input type="text" class="form-control" id="putera_childs" name="putera_childs" placeholder="Putera Seorang Anak"> 
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="col-12">
                                                        <div class="form-group">
                                                            <label for="address">Alamat Tempat Tinggal/Surat Menyurat</label>
                                                            <textarea id="address" name="address" cols="10" rows="3" class="form-control"></textarea> 
                                                        </div>     
                                                    </div>
                                                    <div class="col-12 col-md-6">
                                                        <div class="form-group">
                                                            <label for="state">Negeri</label>
                                                            <input type="text" class="form-control" id="state" name="state" placeholder="Negeri"> 
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-md-6">
                                                        <div class="form-group">
                                                            <label for="phone_no">No. Telefon Putera</label>
                                                            <input type="text" class="form-control" id="phone_no" name="phone_no" placeholder="No. Telefon Putera"> 
                                                        </div>
                                                    </div>
                                                </form>
                                                <br>
                                            </div>
                                            <button class="btn btn-primary" onclick="stepper1.next()">Next <i class="fas fa-arrow-right"></i></button>
                                        </div>
                                        <div id="form-family-member" class="content" role="tabpanel" aria-labelledby="form-family-member-trigger">
                                            
                                            <div class="row">

                                                <div class="col-12 text-center mb-2">
                                                    <p class="h4">Butiran Keluarga</p>
                                                    <div class="line"></div>
                                                </div>
                                                <!-- Butiran Keluarga  -->

                                                <div class="col-12">
                                                    <button class="btn btn-sm btn-success" id="btn-add-family"><i class="fas fa-plus"></i> Tambah Keluarga</button>
                                                    <button class="btn btn-sm btn-danger remove-family-form disabled"><i class="fas fa-times"></i> Buang Keluarga</button>
                                                </div>

                                                <form class="form-family row" id="form-family-1">
                                                    <div class="col-12">
                                                        <div class="card card-primary card-outline mt-2 shadow">
                                                            <div class="card-header">
                                                                <h3 class="card-title">Keluarga #<span id="family-no">1</span></h3>
                                                                <div class="card-tools">
                                                                    
                                                                </div>
                                                            </div>
                                                            <div class="card-body row">
            
                                                                <div class="col-12">
                                                                    <div class="form-group">
                                                                        <label for="family_type">Hubungan dengan Putera</label>
                                                                        <select class="form-control" id="family_type" name="family_type">
                                                                            <option value="">-Sila Pilih-</option>
                                                                            <option value="BAPA KANDUNG">BAPA KANDUNG</option>
                                                                            <option value="IBU KANDUNG">IBU KANDUNG</option>
                                                                            <option value="BAPA (TELAH MENINGGAL DUNIA)">BAPA (TELAH MENINGGAL DUNIA)</option>
                                                                            <option value="IBU (TELAH MENINGGAL DUNIA)">IBU (TELAH MENINGGAL DUNIA)</option>
                                                                            <option value="ABANG KANDUNG">ABANG KANDUNG</option>
                                                                            <option value="KAKAK KANDUNG">KAKAK KANDUNG</option>
                                                                            <option value="DATUK">DATUK</option>
                                                                            <option value="NENEK">NENEK</option>
                                                                            <option value="BAPA TIRI">BAPA TIRI</option>
                                                                            <option value="IBU TIRI">IBU TIRI</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-12 col-md-6">
                                                                    <div class="form-group">
                                                                        <label for="family_fullname">Nama Penuh Penjaga</label>
                                                                        <input type="text" class="form-control" id="family_fullname" name="family_fullname" placeholder="Nama Penuh Penjaga"> 
                                                                    </div>
                                                                </div>
                                                                <div class="col-12 col-md-6">
                                                                    <div class="form-group">
                                                                        <label for="family_no_ic">No. Kad Pengenalan</label>
                                                                        <input type="text" class="form-control" id="family_no_ic" name="family_no_ic" placeholder="No. Kad Pengenalan"> 
                                                                    </div>
                                                                </div>
                                                                <div class="col-12 col-md-6">
                                                                    <div class="form-group">
                                                                        <label for="family_work">Pekerjaan</label>
                                                                        <input type="text" class="form-control" id="family_work" name="family_work" placeholder="Pekerjaan"> 
                                                                    </div>
                                                                </div>
                                                                <div class="col-12 col-md-6">
                                                                    <div class="form-group">
                                                                        <label for="family_salary">Pendapatan (RM)</label>
                                                                        <input type="text" class="form-control" id="family_salary" name="family_salary" placeholder="Pendapatan (RM)"> 
                                                                    </div>
                                                                </div>
                                                                <div class="col-12 col-md-6">
                                                                    <div class="form-group">
                                                                        <label for="family_email">Emel</label>
                                                                        <input type="email" class="form-control" id="family_email" name="family_email" placeholder="Emel"> 
                                                                    </div>
                                                                </div>
                                                                <div class="col-12 col-md-6">
                                                                    <div class="form-group">
                                                                        <label for="family_phone_no">No. Telefon</label>
                                                                        <input type="text" class="form-control" id="family_phone_no" name="family_phone_no" placeholder="No. Telefon"> 
                                                                    </div>
                                                                </div>

                                                                <div class="col-12 col-md-6" style="display: none;">
                                                                    <div class="form-group">
                                                                        <label for="family_dependent_no">Bil. Tanggungan</label>
                                                                        <input type="text" class="form-control" id="family_dependent_no" name="family_dependent_no" placeholder="Bil. Tanggungan"> 
                                                                    </div>
                                                                </div> 

                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>

                                            <br>

                                            <button class="btn btn-primary" onclick="stepper1.previous()"><i class="fas fa-arrow-left"></i> Previous</button>
                                            <button class="btn btn-primary" onclick="stepper1.next()">Next <i class="fas fa-arrow-right"></i></button>
                                        </div>
                                        <div id="form-submit" class="content" role="tabpanel" aria-labelledby="form-submit-trigger">
                                            <!-- <div class="form-group">
                                                <label for="exampleInputFile">File input</label>
                                                <div class="input-group">
                                                    <div class="custom-file">
                                                        <input type="file" class="custom-file-input" id="exampleInputFile">
                                                        <label class="custom-file-label" for="exampleInputFile">Choose file</label>
                                                    </div>
                                                    <div class="input-group-append"> <span class="input-group-text">Upload</span> </div>
                                                </div>
                                            </div> -->
                                                <div class="row">
                                                    <div class="col-12 text-center mb-2">
                                                        <p class="h4">Pengesahan Maklumat</p>
                                                        <div class="line"></div>
                                                    </div>
                                                    <!-- Hantar  -->
                                                    <div class="col-12 col-md-6">
                                                        <div class="form-group">
                                                            <div class="icheck-primary py-2">
                                                                <input type="checkbox" id="cb-verify-details">
                                                                <label for="cb-verify-details">Saya mengaku bahawa semua maklumat yang diisi adalah betul.</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            <button class="btn btn-primary" onclick="stepper1.previous()"><i class="fas fa-arrow-left"></i> Previous</button>
                                            <button type="submit" class="btn btn-primary">Submit</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer"> Footer </div>
                        </div>
                    </div>
                </div>

			</div>
		</div>
	</div>
    <footer class="main-footer">
        <strong>Copyright &copy; 2022-2023 <a href="#">IMC</a>.</strong>
        All rights reserved.
        <div class="float-right d-none d-sm-inline-block">
        <b>Version</b> 1.0
        </div>
    </footer>
</div>



<!-- jQuery -->
<script src="plugins/jquery/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="plugins/jquery-ui/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
  $.widget.bridge('uibutton', $.ui.button)
</script>
<!-- Bootstrap 4 -->
<script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- ChartJS -->
<script src="plugins/chart.js/Chart.min.js"></script>
<!-- daterangepicker -->
<script src="plugins/moment/moment.min.js"></script>
<script src="plugins/daterangepicker/daterangepicker.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Summernote -->
<script src="plugins/summernote/summernote-bs4.min.js"></script>
<!-- overlayScrollbars -->
<script src="plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
<!-- AdminLTE App -->
<script src="dist/js/adminlte.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="dist/js/demo.js"></script>

    <!-- BS Stepper -->
    <script src="plugins/bs-stepper/js/bs-stepper.min.js"></script>

<!-- Custom Script -->
<script>

    // BS-Stepper Init
    var stepper1;
    document.addEventListener('DOMContentLoaded', function () {
        // window.stepper = new Stepper(document.querySelector('.bs-stepper'))
        stepper1 = new Stepper(document.querySelector('#stepper1'), {
            linear: false
        })
    })
  
    $(document).ready(function(){
        $(document).on("click", '#btn-other-nation', function() {
            if ($(this).is(':checked')) {
                $('#nation').val('');
                $('#other_nation').parents('div.form-group').show();
                $('#nation').attr('disabled', 'disabled');
            } else {
                $('#other_nation').val('');
                $('#other_nation').parents('div.form-group').hide();
                $('#nation').removeAttr('disabled');
            }
        });

        $(document).on('change', '#family_type', function(){
            if($(this).val().toUpperCase() == "BAPA KANDUNG"){
                $(this).parents('form.form-family').find('input#family_dependent_no').parents('div.col-md-6').show();
            }
            else{
                $(this).parents('form.form-family').find('input#family_dependent_no').parents('div.col-md-6').hide();
            }
        });
    });


    var regex = /^(.+?)(\d+)$/i;
    var formFamilyIndex = $(".form-family").length;

    function addFamilyMemberForm(){
        $('button.remove-family-form').removeClass('disabled');
        if($(".form-family").length <= formFamilyIndex){formFamilyIndex = $(".form-family").length + 1;}
     
        $('.form-family:last').clone()
            .insertAfter("#form-family-member .form-family:last")
            .attr("id", "form-family-" +  formFamilyIndex)
            .find("*")
            .each(function() {
                var id = this.id || "";
                var match = id.match(regex) || [];
                if (match.length == 3) {
                    this.id = match[1] + (formFamilyIndex);
                }

                if($(this).is('input')){//clear all input value when clone
                    $(this).val('');
                }
                
                if($(this).hasClass('card-tools') && !$(this).children('button').hasClass('remove')){
                    // $(this).append('<button type="button" class="btn btn-tool remove-family-form"><i class="fas fa-times"></i></button>')
                }

                $(this).children('#family-no').text(formFamilyIndex)
                
            }).focus()
            // .on('click', '#btn-add-family', addFamilyMemberForm)
            // .on('click', 'button.remove', remove);
        formFamilyIndex++;
    }
    function remove(){
        // $(this).parents(".form-family").remove();]
        if($(".form-family").length <= 1){  return;}
        $(".form-family:last").remove();
        //Check last child if got one at least
        if($(".form-family").length == 1){  $('button.remove-family-form').addClass('disabled');}
    }
    $("#btn-add-family").on("click", addFamilyMemberForm);

    $(document).on("click", "button.remove-family-form", remove);
    
// var arr = [];

// $('form.form-family').each(function(i, obj) {
//     // console.log(obj);
//     var result = {};

//     var serArr = $.each($(obj).serializeArray(), function() {
//         result[this.name] = this.value;
//     });
//     console.log(result)
//     arr.push(serArr);
// });

// console.log(arr)
    

</script>

</body>
</html>
